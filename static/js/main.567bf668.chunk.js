(this["webpackJsonptask-manager"]=this["webpackJsonptask-manager"]||[]).push([[0],{27:function(e,t,a){e.exports=a(42)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(13),s=a.n(i),o=(a(32),a(6)),r=a(7),c=a(9),d=a(8),h=(a(33),a(3)),u=(a(34),a(35),a(44)),m=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleClose=e.handleClose.bind(Object(h.a)(e)),e.handleShow=e.handleShow.bind(Object(h.a)(e)),e.handleAdd=e.handleAdd.bind(Object(h.a)(e)),e.state={show:!1,title:"",error:!1},e}return Object(r.a)(a,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleAdd",value:function(){var e=this;this.setState({title:document.getElementById("inputTask").value}),fetch("https://test.megapolis-it.ru/api/list",{method:"POST",body:JSON.stringify({title:document.getElementById("inputTask").value}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(){e.state.title?(e.setState({error:!1}),e.handleClose()):e.setState({error:!0})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement(u.a,{show:this.state.show,onHide:this.handleClose},l.a.createElement(u.a.Header,null,l.a.createElement(u.a.Title,null,"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),l.a.createElement("button",{type:"button",className:"Task-button close",onClick:this.handleClose})),l.a.createElement(u.a.Body,null,l.a.createElement("form",null,l.a.createElement("div",{className:"form-group no-margin"},l.a.createElement("input",{type:"text",className:"form-control",id:"inputTask"})),this.state.error&&l.a.createElement("span",{className:"error"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),l.a.createElement("button",{type:"button",onClick:this.handleAdd,className:"btn btn-success btn-add"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")))))}}]),a}(n.Component),b=(a(39),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleClose=e.handleClose.bind(Object(h.a)(e)),e.handleShow=e.handleShow.bind(Object(h.a)(e)),e.handleDelete=e.handleDelete.bind(Object(h.a)(e)),e.state={show:!1},e}return Object(r.a)(a,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleDelete",value:function(){fetch("https://test.megapolis-it.ru/api/list/"+this.props.item.id,{method:"DELETE"}).then((function(e){return e.json()})),this.handleClose()}},{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement(u.a,{show:this.state.show,onHide:this.handleClose},l.a.createElement(u.a.Header,null,l.a.createElement(u.a.Title,null,"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),l.a.createElement("button",{type:"button",className:"Task-button close",onClick:this.handleClose})),l.a.createElement(u.a.Body,null,l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control disabled",value:this.props.item.title,readOnly:!0})),l.a.createElement("button",{type:"button",onClick:this.handleDelete,className:"btn btn-success btn-delete"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))}}]),a}(n.Component)),f=(a(40),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleClose=e.handleClose.bind(Object(h.a)(e)),e.handleShow=e.handleShow.bind(Object(h.a)(e)),e.handleEdit=e.handleEdit.bind(Object(h.a)(e)),e.state={show:!1},e}return Object(r.a)(a,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleEdit",value:function(){fetch("https://test.megapolis-it.ru/api/list/"+this.props.item.id,{method:"POST",body:JSON.stringify({title:document.getElementById("editTask").value}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})),this.handleClose()}},{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement(u.a,{show:this.state.show,onHide:this.handleClose},l.a.createElement(u.a.Header,null,l.a.createElement(u.a.Title,null,"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),l.a.createElement("button",{type:"button",className:"Task-button close",onClick:this.handleClose})),l.a.createElement(u.a.Body,null,l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",id:"editTask",defaultValue:this.props.item.title})),l.a.createElement("button",{type:"button",onClick:this.handleEdit,className:"btn btn-success"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))))}}]),a}(n.Component)),p=(a(41),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleClose=e.handleClose.bind(Object(h.a)(e)),e.handleShow=e.handleShow.bind(Object(h.a)(e)),e.state={show:!1},e}return Object(r.a)(a,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement(u.a,{className:"fullscreen",show:this.state.show,onHide:this.handleClose},l.a.createElement("h3",{className:"MainTitle"},"\u0417\u0430\u0434\u0430\u0447\u0430 \u2116",this.props.item.num),l.a.createElement(u.a.Header,null,l.a.createElement(u.a.Title,null,"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435")),l.a.createElement(u.a.Body,null,l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"form-control disabled"},this.props.item.title)),l.a.createElement("button",{type:"button",onClick:this.handleClose,className:"btn btn-primary"},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u0432 \u0441\u043f\u0438\u0441\u043e\u043a")))))}}]),a}(n.Component)),v=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={error:null,isLoaded:!1,items:[],currentItem:{id:null,title:null,num:null}},e.addChild=l.a.createRef(),e.deleteChild=l.a.createRef(),e.editChild=l.a.createRef(),e.viewChild=l.a.createRef(),e.addShow=e.addShow.bind(Object(h.a)(e)),e.deleteShow=e.deleteShow.bind(Object(h.a)(e)),e.editShow=e.editShow.bind(Object(h.a)(e)),e.viewShow=e.viewShow.bind(Object(h.a)(e)),e}return Object(r.a)(a,[{key:"getTasks",value:function(){var e=this;fetch("https://test.megapolis-it.ru/api/list").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,items:t.data})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"componentDidMount",value:function(){this.getTasks()}},{key:"componentDidUpdate",value:function(){this.getTasks()}},{key:"addShow",value:function(){this.addChild.current.handleShow()}},{key:"deleteShow",value:function(e){this.deleteChild.current.handleShow(),this.setState(Object.assign(this.state.currentItem,{id:e.currentTarget.dataset.id,title:e.currentTarget.dataset.title}))}},{key:"editShow",value:function(e){this.editChild.current.handleShow(),this.setState(Object.assign(this.state.currentItem,{id:e.currentTarget.dataset.id,title:e.currentTarget.dataset.title}))}},{key:"viewShow",value:function(e){var t=this.state.items.findIndex((function(t){return t.id===+e.currentTarget.dataset.id}))+1;this.setState(Object.assign(this.state.currentItem,{id:e.currentTarget.dataset.id,title:e.currentTarget.dataset.title,num:t})),this.viewChild.current.handleShow()}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.isLoaded,i=t.items,s=1;return a?l.a.createElement("div",null,"\u041e\u0448\u0438\u0431\u043a\u0430: ",a.message):n?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("h3",{className:"MainTitle"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447")),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("button",{type:"button",className:"btn btn-success AddTask-button",onClick:this.addShow},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),l.a.createElement("div",{className:"col-sm-12 ListTask"},l.a.createElement("ul",{className:"list-group"},i.map((function(t){return l.a.createElement("li",{key:t.id,className:"list-group-item"},l.a.createElement("div",{"data-id":t.id,"data-title":t.title,onClick:e.viewShow},"\u0417\u0430\u0434\u0430\u0447\u0430 \u2116",s++),l.a.createElement("div",{"data-id":t.id,"data-title":t.title,onClick:e.viewShow},t.title),l.a.createElement("div",null,l.a.createElement("button",{type:"button","data-id":t.id,"data-title":t.title,className:"Task-button DeleteTask-button",onClick:e.deleteShow}),l.a.createElement("button",{type:"button","data-id":t.id,"data-title":t.title,className:"Task-button EditTask-button",onClick:e.editShow})))})))),l.a.createElement(m,{ref:this.addChild}),l.a.createElement(b,{ref:this.deleteChild,item:this.state.currentItem}),l.a.createElement(f,{ref:this.editChild,item:this.state.currentItem}),l.a.createElement(p,{ref:this.viewChild,item:this.state.currentItem})):l.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")}}]),a}(n.Component),E=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(v,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.567bf668.chunk.js.map